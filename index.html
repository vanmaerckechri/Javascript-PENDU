<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>Le Pendu</title>
</head>

<style>
	#score
	{
		width: 250px;
	}
	h2
	{
		display: inline-block;
	}	
	#mot, #lettresInva, #essais
	{		
		text-align: right;
	}
</style>

<body>
	<div id="score">
		<H2>Le Mot:</H2>
		<div id="mot">
		</div>
		<H2>Lettres Invalides:</H2>
		<div id="lettresInva">
		</div>
		<H2>Essais:</H2>
		<div id="essais">9
		</div>
		<div>
  			Proposez une lettre: <input id="propo" type="text"><br>
  			<input type="button" onclick="proposition()" value="Submit">
		</div>
		<H2>Informations</H2>
		<div id="comIA">
		</div>
	</div>

<script>
var motSecret = 'BONJOUR';
var motProposition = new Array(motSecret.length);
var lettreProposition;
var lettresInvalides = [];
var chanceNombre = 9;
var resultat = 0;
var victoire = 0;

for (i = 0; motProposition.length > i; i++)
{
  motProposition[i] = "-";
}

function proposition()
{
	if (chanceNombre > 0) 
 	{
 		lettreProposition = document.getElementById("propo").value;
  		verifType(lettreProposition);
	}
}

function verifType(lettre) {
  if (isNaN(lettre) === true)
  {
  	if (lettre != "")
  	{
  		if (lettre.length == 1)
  		{
  			verifLettre();
  		}
  	}
  }
}

function verifLettre()
{
  	lettreProposition = lettreProposition.toUpperCase();
  	for (i = 0; i < motSecret.length; i++) {
    if (lettreProposition == motProposition[i])
    {
    	document.getElementById("comIA").style.color = "#FF8C00";
      	document.getElementById("comIA").innerHTML = "cette lettre a déjà été proposée";
      	return;
    }
}
  comparLettreInvalides(lettreProposition);
}

function comparLettreInvalides(lettre)
{
  	for (i = 0; i < lettresInvalides.length; i++)
	{
    	if (lettre == lettresInvalides[i])
    	{
    		document.getElementById("comIA").style.color = "#FF8C00";
      		document.getElementById("comIA").innerHTML = "cette lettre a déjà été proposée";
     		return;
    	}
  	}
 	lettreExiste(lettre);
}

function lettreExiste(lettre) {
  for (i = 0; i < motSecret.length; i++) {
    if (lettre == motSecret[i]) {
      motProposition[i] = lettre;
      resultat = 1;
      victoire++;
    }
  }
  afficheResultat(lettre);
}

function afficheResultat(lettre) {
  if (resultat == 1)
  {
  	document.getElementById('mot').innerHTML = motProposition.join(' ');
  	document.getElementById("comIA").style.color = "green";
    document.getElementById("comIA").innerHTML = "Bonne Proposition";
  }
  else
  {
    chanceNombre--;
    lettresInvalides.push(lettre);
    document.getElementById('lettresInva').innerHTML += lettre+"-";
    document.getElementById("comIA").style.color = "red";
    document.getElementById("comIA").innerHTML = "Mauvaise proposition";
  }
  document.getElementById('essais').innerHTML = chanceNombre;
  resultat = 0;
  victoireDefaite();
}

function victoireDefaite()
{
	if (victoire == motSecret.length)
	{
		document.getElementById("comIA").style.color = "green";
		document.getElementById("comIA").innerHTML = "VICTOIRE";
		chanceNombre = 0;
	}
	if (chanceNombre == 0)
	{
		document.getElementById("comIA").style.color = "red";
		document.getElementById("comIA").innerHTML = "DEFAITE";
	}
}
</script>
</body>
</html>